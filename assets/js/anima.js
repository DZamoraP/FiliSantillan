"use strict";var anima=function(e){var n=function(){document.documentElement.setAttribute("data-useragent",navigator.userAgent)},t=function(){e(".js-open-main-menu").on("click",function(n){n.preventDefault(),e(".js-menu-container").addClass("show-menu"),e(".js-menu-overlay").addClass("visible")}),e(".js-close-main-menu, .js-menu-overlay").on("click",function(n){n.preventDefault(),e(".js-menu-container").removeClass("show-menu"),e(".js-menu-overlay").removeClass("visible")})},o=function(){var n=e("html:has(body.nicescroll)");n.length&&n.niceScroll({cursorcolor:"#222",cursorwidth:6,cursorborder:"1px solid #222",zindex:99999,cursorborderradius:0,scrollspeed:80,mousescrollstep:20,autohidemode:"leave",railpadding:{right:2},smoothscroll:!0})},i=function(){document.addEventListener("visibilitychange",function(){!document.hidden&&e("html").getNiceScroll().length&&e("html").getNiceScroll()[0].show()})},s=function(){e("pre code").each(function(e,n){hljs.highlightBlock(n)})},a=function(){e(".headroom").headroom({offset:200,classes:{pinned:"",unpinned:""}})},l=function(){var n=e(".js-back-to-top-btn");n.length&&(e(window).scroll(function(){e(this).scrollTop()>300?n.removeClass("hidden"):n.addClass("hidden")}),n.on("click",function(n){n.preventDefault(),e("body.nicescroll").length?e("html").getNiceScroll()[0].doScrollTop(0,1e3):e("body, html").stop(!0,!1).animate({scrollTop:0},400)}))},c=function(){e(".js-post-reading-time").is(":visible")&&imagesLoaded(".post-view-article",function(){var n,t,o,i,s=function(){return e(document).height()-e(window).height()},a=function(){return e(window).scrollTop()};if("max"in document.createElement("progress"))n=e("progress"),n.attr({max:s()}),e(document).on("scroll",function(){n.attr({value:a()})}),e(window).resize(function(){n.attr({max:s(),value:a()})});else{n=e(".progress-bar"),t=s(),i;var l=function(){return o=a(),i=o/t*100,i+="%"},c=function(){n.css({width:l()})};e(document).on("scroll",c),e(window).on("resize",function(){t=s(),c()})}})},r=function(){var n=e(".js-post-block-grid");n.length&&imagesLoaded(".js-post-block-grid",function(){n.shuffle({itemSelector:".js-post-block-grid-item"}),n.on("done.shuffle",function(){n.shuffle("update")})})},u=function(){var n=e(".post-article-content");n.length&&n.readingTime({wordCountTarget:e(".js-post-reading-time").find(".js-word-count")})},d=function(){if(e(".anima-image-popup").length){var n={type:"image",removalDelay:500,midClick:!0,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass="mfp-zoom-in"}},closeOnContentClick:!0,gallery:{enabled:!0}};e(".anima-image-popup").magnificPopup(n)}},f=function(n){return e.grep(n,function(t,o){return o===e.inArray(t,n)})},p=function(){var n=e(".js-post-view-recent");if(n.length&&n.is(":visible")){var t,o=n.data("items"),i=function(t){var i,s,a=t.length,l=e("<ul/>");i=a>o?o:a;for(var c=0;i>c;c++)s='<li><a href="'+t.eq(c).find("link").text()+'">'+t.eq(c).find("title").text()+"</a></li>",l.append(s);n.append(l)};window.globalRSSDataJQObj&&window.globalRSSDataJQObj.length?(t=window.globalRSSDataJQObj,i(t)):e.get("/rss/",function(n){t=e(n).find("item"),i(t)})}},h=function(){var n=e(".js-filter-tags");if(n.length){var t=e(".js-post-block-grid-item"),o=e('<select class="cs-select cs-skin-slide"/>'),i=[];t.length&&(t.each(function(){i=i.concat(e(this).data("tags").split(","))}),i=f(i).filter(Boolean)),o.append('<option value="all">Todo</option>'),i.forEach(function(e){o.append('<option value="'+e+'">'+e+"</option>")}),n.append(o)}},m=function(){[].slice.call(document.querySelectorAll("select.cs-select")).forEach(function(n){new SelectFx(n,{onChange:function(n){e(".js-post-block-grid").shuffle("shuffle",n)}})})},g=function(){var n=e(".js-open-search"),t=e(".js-close-search"),o=e(".big-search"),i=e(".js-search-input").ghostHunter({results:".js-search-results",result_template:'<a href="{{link}}"><p><h2><i class="fa fa-fw fa-dot-circle-o"></i> {{title}}</h2></p></a>',onKeyUp:!0,rss:"/rss/"});n.on("click",function(n){n.preventDefault(),o.addClass("open"),e(window).scrollTop(0),o.find("input[type=text]").focus()}),t.on("click",function(e){e.preventDefault(),i.clear(),o.removeClass("open")})},v=function(n,t,o){if(e("#disqus_thread").length)if("undefined"==typeof DISQUS){var i="filisantillan";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+i+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()}else DISQUS.reset({reload:!0,config:function(){this.page.identifier=n,this.page.url=t,this.page.title=o}})},w=function(){var n=e(".anima-carousel");n.length&&n.each(function(){e(this).owlCarousel({items:3,autoPlay:2500,stopOnHover:!0,itemsScaleUp:!0})})},b=function(){if(document.documentElement.clientWidth>=990){var n=0;e(".post-block-wrapper").each(function(){e(this).height()>n&&(n=e(this).height())}),e(".post-block-wrapper").each(function(){e(this).css("height",n)})}},j=function(){e(document).foundation(),b(),n(),s(),t(),l(),u(),c(),a(),o(),i(),r(),h(),m(),g(),p(),v(window.location.href,window.location.href,e(".post-title").text()),w(),d()};return{init:j}}(jQuery);!function(){anima.init()}();